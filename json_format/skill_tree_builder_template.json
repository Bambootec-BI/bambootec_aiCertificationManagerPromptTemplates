{
  "meta": {
    "name": "skill_tree_builder",
    "version": "v1.5.0",
    "notes": [
      "Fill ONLY inputs.skill, inputs.level, inputs.context.",
      "Ordering is learning progression; Impact (%) is informational and must sum to 100.",
      "This template is skill-agnostic (no domain-specific references)."
    ]
  },
  "inputs": {
    "skill": "[SKILL_NAME]",
    "level": "[ABILITY_LEVEL_REQUIRED]",
    "context": "[CONTEXT: where/how the skill is used in real work]"
  },
  "prompt": {
    "language_policy": {
      "instruction": "Translate user input into English. Think in English. Only translate to Spanish for the output.",
      "instruction_language": "English",
      "output_language": "Spanish",
      "exceptions": ["proper names", "commonly used names", "code blocks"]
    },
    "task": {
      "description": "Build a learning skill tree for {inputs.skill} at {inputs.level} for {inputs.context}.",
      "audience": "first-time learners entering this kind of work",
      "style": "textbook index (short section titles + short skill titles)"
    },
    "constraints": {
      "hard_rules": [
        "Order MUST follow a learning progression (what to learn first → later)",
        "Each concrete skill MUST include an Impact (%) integer, but Impact MUST NOT affect ordering",
        "The sum of Impact (%) across ALL concrete skills MUST equal exactly 100",
        "Exactly two levels: Level 1 = Section titles (capability areas), Level 2 = Skill titles",
        "Each section MUST contain at least two skills",
        "Skill titles must be short, beginner-friendly, and action-oriented",
        "Each skill must include representative 'how to do it' examples in parentheses (examples only, not extra skills)",
        "Keep skill count within a practical range for the requested level (e.g., 18–35), unless the context clearly demands fewer",
        "FIRST SECTION MUST be 'Conceptual Overview' with learning order 0, containing foundational understanding before practical skills"
      ]
    },
    "conceptual_overview_requirements": {
      "purpose": "Every skill tree MUST start with a conceptual overview section that provides mental models and context before practical skills",
      "section_title_output": "Conceptual Overview (translated per language_policy in output)",
      "learning_order": "0 (always first, before all practical skills which start at 1)",
      "level_adaptation": {
        "beginner_entry": {
          "description": "Include 2-3 foundational understanding skills in this section:",
          "skills": [
            "What is {skill} and why it matters (core definition, practical value in context, key use cases)",
            "Basic mental model (simplified workflow, key analogies, fundamental concepts)",
            "Essential terminology (3-5 key terms with simple definitions)"
          ],
          "note": "Each skill gets its own Impact (%) allocation."
        },
        "intermediate": {
          "description": "Include 3-4 foundational understanding skills in this section:",
          "skills": [
            "What is {skill} and strategic value (definition with distinctions, strategic value, common use cases)",
            "Mental model and workflow (conceptual framework, workflow diagram, key principles)",
            "Key terminology and concepts (5-8 terms including advanced concepts)",
            "Common conceptual mistakes (2-3 misconceptions that learners often have)"
          ],
          "note": "Each skill gets its own Impact (%) allocation."
        },
        "expert_advanced": {
          "description": "Include 4-5 foundational understanding skills in this section:",
          "skills": [
            "What is {skill}, scope and boundaries (definition, scope, boundaries, tradeoffs)",
            "Advanced mental model (system-level view, architectural principles, design patterns)",
            "Expert terminology and concepts (8-12 terms including expert-level concepts)",
            "Subtle errors and pitfalls (3-4 common misconceptions and subtle pitfalls)",
            "Connections to adjacent domains (how this skill relates to and integrates with adjacent areas)"
          ],
          "note": "Each skill gets its own Impact (%) allocation."
        }
      },
      "impact_allocation": [
        "Conceptual overview skills should collectively account for 10-15% of total impact",
        "Each individual conceptual skill receives its own Impact (%) value like any other skill",
        "Impact MUST still sum to exactly 100 across ALL skills (including conceptual overview skills)"
      ],
      "examples_in_parentheses": {
        "description": "Conceptual skills should also include examples in parentheses showing how to apply understanding:",
        "examples": [
          "Basic mental model (data flow diagrams, component interaction maps, simplified architecture)",
          "Essential terminology (define: pipeline, transformation, orchestration)"
        ]
      }
    },
    "baseline_sustainability": {
      "description": "Baseline sustainability (minimum) means the learner can:",
      "requirements": [
        "perform the core workflow end-to-end in {inputs.context}",
        "avoid the most common correctness mistakes",
        "apply basic safety/governance rules relevant to {inputs.context}",
        "detect issues early using basic validation checks",
        "troubleshoot common failures and recover",
        "produce work that is understandable and maintainable by someone else"
      ]
    },
    "level_scaling": {
      "principle": "Always cover the baseline sustainability definition. Then expand depth and scope according to inputs.level.",
      "rules": [
        "If inputs.level implies beginner/entry-level: focus on the essential/common workflow; exclude expert-only optimizations and rare edge cases",
        "If inputs.level implies intermediate: include common robustness and performance patterns; include a small set of context-relevant edge cases",
        "If inputs.level implies expert: include expert-level optimizations, deeper debugging/diagnostics, and context-relevant edge cases and tradeoffs",
        "If inputs.level is ambiguous: default to 'entry-level production' scope unless the level explicitly requests advanced/expert coverage"
      ]
    },
    "coverage_requirements": {
      "must_include": [
        "Workflow basics (where work happens, how changes apply, how outputs are produced)",
        "Inputs and access (setup, permissions/credentials if applicable)",
        "Core operations (the main actions people do in this skill)",
        "Combining or integrating parts (if applicable)",
        "Quality checks (common errors, validation, sanity checks)",
        "Safety/governance (privacy, security, compliance, safe defaults)",
        "Performance/reliability basics (avoid obvious slow/brittle patterns)",
        "Handoff readiness (naming, structure, minimal documentation)",
        "Production use (run/deploy behavior in {inputs.context}, if applicable)"
      ],
      "exclude": [
        "Expert-only optimizations when inputs.level is entry-level",
        "Deep theory not required for {inputs.level}",
        "Rare edge cases unless inputs.level is expert or the context makes them common"
      ]
    },
    "output_format": {
      "single_output": {
        "type": "Numbered hierarchical skill tree (book-index style)",
        "format": "Sections as ### headings, skills as plain text lines",
        "requirements": [
          "Two levels only: Level 1 = Sections as ### headings with number, Level 2 = Skills as plain text lines with decimal number",
          "Ordered by learning progression",
          "Conceptual Overview section is number 0",
          "Impact (%) shown per skill",
          "No table, no justifications, no 'Why this matters' — just the tree",
          "Do NOT use markdown list syntax (no '-', no '*', no '1.' ordered lists). Skills are plain text lines, not list items."
        ],
        "example": "### 0 Conceptual Overview\n\n0.1 Understand what X is and its value (definition, use cases, practical value) — Impact 4%\n0.2 Internalize the mental workflow (key steps, analogies) — Impact 4%\n\n### 1 Section One\n\n1.1 First skill (example A, example B) — Impact 5%\n1.2 Second skill (example C, example D) — Impact 4%\n\n### 2 Section Two\n\n2.1 Third skill (example E, example F) — Impact 3%"
      }
    }
  }
}
